/// <reference types="Cypress"/>

import { checkin } from '../../support/functions/checkinAPI'


describe('Validate if a client can checkin with QR corona code', () => {

    it('As a client I should be able to checkin with valid QR dose2 corona code', () => {

        checkin.apiRequest('174868', 'CS-174868-CHECKIN105-NFUdanpIRIz5Fbxy51vnNkUCS' ,'3igKuxDlEsgASxLBr89K04lzOjQF4p3oe6eRysIZ7f-private', 'HC1:NCF%RN%TS3DHLXS-DP75PV4C2YK5NL-AH:TA1RO9.S4UOX-IHMFYS52UA0VR:CBF/8X*G-O9UVPQRHIY1+ HNQ1PRAAUICO1DV5+ZE:48EA7IB65C94JBNKDG.CRKFOKEH-B.LDQ8LIUN9JAC.BW8EBJCG.C$0LW8EB.CIEERJCL/EFDA6LF C9BEMLUKQ8LY6LBEM-2DBEM$UKC8ND7AGGBYPL0QIRR97I2HOAXL92L0. KOKGTM8$M8SNCXL9LM0*$K8KG+9RR$F+ F%J00N89M4*$K3$OHBW24FAL86H0CNCRK40YQDXI03L6QS03L9ZI4Q5%H0AN8EH06YB:WOU.S9Q488KP+PGC17DS2*N.SSBNKA.G.P6A8IM%O%KI/-GN*QG%MLNK:+G/YNR-G7PG%OK2%KYZPE:MK34QTLW2DVJ55M84:7-L5-3FJ26I10TOAW.554AJ40NAA0A9Q7EGL4%AWP8HS9VI8HA0K8+RH9JH5OPITLIU VT:-MW/NNX3G7QI.VBOP/YQC P1SQWPE-1WQ8DW0E6ZT0HPNCA%9CSDW4PE16IUGF0:9GWIBXMKN1000FGW+Q3C/G' )
       .then(response => {
            expect(response.body.result.client_message[0]).to.contain("Welcome")
            expect(response.body.result.employee_message[1]).to.contain("No profile picture")
       })       
    })

    it('As a client I should not be able to checkin with valid QR dose1 corona code', () => {

        checkin.apiRequest('174868', 'CS-174868-CHECKIN105-NFUdanpIRIz5Fbxy51vnNkUCS' ,'3igKuxDlEsgASxLBr89K04lzOjQF4p3oe6eRysIZ7f-private', 'HC1:NCFZ20Q80T9WTWGVLKO99:WA09094V-SCX*4FBBN05*70J+9FN0SFCXLJWY0 EC+BMD97TK0F90$PC5$CUZC$$5Y$5JPCT3E5JDOA7Y967463W5/A6..DX%DZJC1/DNOA3/D%8DW.C7WE NAE+9Z69I3D3QE 8DXVD5/D+34:8D%/E 8D7/DGECMPCG/D3QE269:S9G+98S7A694-A269I+9RB8KECTHG4KCD3DX47B46IL6646H*6Z/E5JD%96IA74R6646307Q$D.UDRYA 96NF6L/5SW6Y57B$D% D3IA4W5646946846.96XJC +D3KC.SCXJCCWENF6OF63W59%6UF6WJCT3EJ+9%JC+QENQ4ZED+EDKWE3EFX3ET34X C:VDG7D82BUVDGECDZCCECRTCUOA04E4WEOPCN8FHZA1+92ZAQB9746VG7TS9FZA5IA67B4IAPR6NB8UH9Z6B0IA$09.Q6ZK427B72K23IXI8CJ7X%JUYC39JX96X86L$NF*M*$PU0P*J7E*S9SO:%HFLLZ-S/CLI%88S8VE7W+F-ZM309$1AIA0IOSM QF9USOIV50U50TCW1W151' )
        .then(response => {
            expect(response.body.result.client_message[0]).to.contain("Invalid QR code")
            expect(response.body.result.employee_message[1]).to.contain("Vaccination is not complete: dose 1/2")

        })

    })

    it('As a client I should not be able to checkin with valid QR dutch corona code', () => {

        checkin.apiRequest('174868', 'CS-174868-CHECKIN105-NFUdanpIRIz5Fbxy51vnNkUCS' ,'3igKuxDlEsgASxLBr89K04lzOjQF4p3oe6eRysIZ7f-private', 'NL2:SJQZYV54X$HPS$.YC*QL-7AH73YI*ZU99/KW.6.FPIAP7$YFWMB WKF O4PE7948153EL L:FQ%-9P-I-S/J8BFH.$HY35XYD%V0M6WQDNZOQ:PURI92A+5OQF1AAS041VNMN%AR-CK5P$0Y9C3+0SQ3*79Y7* 0W9YEWDFX$9.WXQ-UODJA8WP+9GPXF%VIW.9A-IBLS*WLY7$Y-E0E3RR5JK+4CXLWOBF:.5B$U%OHN41 J6%L-6%Q5NZK$/IFL1NRT0V/$:387/+S$5I*CW7H6FJK/--OYG:$QA2/:B7P4CAA8 -+TNZKTXO1N:.EAE3* LOMPD8GA6R:FLSN/+R7%K. /8H+PFF$T5R.LTZV5.Z1P8W:G7M*VW9*$VW HBE6$FZ7XH4 M%0%LPI7T2X2/%IGE8Z+26.9:/G+%C5QT2*TNHZ:OE8.*BRX/LH3NWQC%5PMZ B 7GLN:GT$+Z3SVVOW4T5G*M/38:*T44-FIXWTKX*1RR9FD5H2IAHN4HN G5/OQH%5*RX1X-64YE*1PMQK*PT0BAB-/U:2D2R5TNI/UIQ%GNM97$5UPL%/2MXVG*.CFUYY:HSZN325KSGUQ$L/VR78643++HXD46SH9R29:EEQ7LT0-A $+B0W9KUDPZT UJB88Z3+IE5V$0HI/NA$831 **00NROT*HGTO*$DEE.-7B93Q54B:NMK*WE$LOY71VKDDLLT4 A8PNJ5%V0+L+0.5VVWODZAE0BX960*-HDJ*:7N-SHYS%J2PLW25Z0AGG0FSU9VD+3+F2DSEW%GCEHGF0A4D7DX%58LCCFCLP52AQCI-+W%9-VVBQ8BQ6GQIQX777H67W1/.:*I5EEKCJ0 MG6OCUR-W*Z5N2BRVDXWWZCV0M-F5X59W-*$E6VROR/:7YH +$T5IH-B1RL2 DW:$Y+S ATO$%%*BB$48$DLLELOJ8L*62YIDW0.8Z.XSJ3H4EX7J4D7%1IBJ6*E 0+SK30K5.4FF:*O8S4QBR8S9KHV*NNJ+-T+.8W:FS6L/1TKXOE-S$E3CU$EZYIH-8JNHSFWDTRDG3JBKJL0JR7CC3T0+H-NFJGE+F8SUPOQ 7SX/C WWHC4THPGFRFPL-B%$6U8+-G%MM$Y7QK7143SX-MRDNPQ9RNRVER 4PN*DRVBPV$O27W65Q2HI8QEX*24WBEECYGL7Q$DP+*PL2S83-GBUA*4W0DZMGTO4QG9Q5 EVML2Z8KXBWTHXE**9OYL4XEQ9K2KGQN-%6RBH938LU3/ 4P7I Y-WA-RQ$UCNCG5U.3RVVA9J9LI%XG7XKRN7EU4KN' )
        .then(response => {
            expect(response.body.result.client_message[0]).to.contain("Unrecognized QR code")
            expect(response.body.result.employee_message[0]).to.contain("Unrecognized QR code")
    
            })
        })

    it('As a client I should not be able to checkin with valid QR corona code if I am not a member of the club', () => {

        checkin.apiRequest('174868', 'CS-174868-CHECKIN105-NFUdanpIRIz5Fbxy51vnNkUCS' ,'3igKuxDlEsgASxLBr89K04lzOjQF4p3oe6eRysIZ7f-private', 'HC1:NCFP20 80T9WTWGVLKO99:WA09094V-SCX*4FBBSX3*70J+9FN0ZPCFIPWY04FCG+ID97TK0F90$PC5$CUZC$$5Y$5JPCT3E5JDOA76L6E464W5FM6..DX%DZJC6/DK19W3EG/D0$CCECLPCG/DRJDBIACY8ITAMY9-+9I3D2EDMEC*34DEC0%EMPCG/D2EDXB87S7OB8BZAKECTHG4KCD3DX47B46IL6646H*6Z/E5JD%96IA74R6646307Q$D.UDRYA 96NF6L/5SW6Y57B$D% D3IA4W5646946846.96XJC$+D3KC.SCXJCCWENF6OF63W5+/60A6WJCT3EJ+9%JC+QENQ4ZED+EDKWE3EFX3ET34X C:VDG7D82BUVDGECDZCCECRTCUOA04E4WEOPCN8FHZA1+92ZAQB9746VG7TS90Z9S09B692H8/A8Z59FTAKX63X6$*8.Q6UK427B35SSLPHNUN*88 SQK3WOFWI3M6Q EEI2JBPLZ:GW:4KWN8DUPLVMT9O:QZO5TJMLKBXO5UQBQHJ/3PE/83:948UCXJ/KE8S5V50U50RDWN7KD2' )
        .then(response => {
            expect(response.body.result.client_message[0]).to.contain("Member not found")
            expect(response.body.result.employee_message[1]).to.contain("Double check member full name and birthday")
    
            })
        })

    it('As a client I should not be able to checkin with valid QR corona code if I am not a member of the club', () => {

        checkin.apiRequest('174868', 'CS-174868-CHECKIN105-NFUdanpIRIz5Fbxy51vnNkUCS' ,'3igKuxDlEsgASxLBr89K04lzOjQF4p3oe6eRysIZ7f-private', 'HC1:NCFP20 80T9WTWGVLKO99:WA09094V-SCX*4FBBSX3*70J+9FN0ZPCFIPWY04FCG+ID97TK0F90$PC5$CUZC$$5Y$5JPCT3E5JDOA76L6E464W5FM6..DX%DZJC6/DK19W3EG/D0$CCECLPCG/DRJDBIACY8ITAMY9-+9I3D2EDMEC*34DEC0%EMPCG/D2EDXB87S7OB8BZAKECTHG4KCD3DX47B46IL6646H*6Z/E5JD%96IA74R6646307Q$D.UDRYA 96NF6L/5SW6Y57B$D% D3IA4W5646946846.96XJC$+D3KC.SCXJCCWENF6OF63W5+/60A6WJCT3EJ+9%JC+QENQ4ZED+EDKWE3EFX3ET34X C:VDG7D82BUVDGECDZCCECRTCUOA04E4WEOPCN8FHZA1+92ZAQB9746VG7TS90Z9S09B692H8/A8Z59FTAKX63X6$*8.Q6UK427B35SSLPHNUN*88 SQK3WOFWI3M6Q EEI2JBPLZ:GW:4KWN8DUPLVMT9O:QZO5TJMLKBXO5UQBQHJ/3PE/83:948UCXJ/KE8S5V50U50RDWN7KD2' )
        .then(response => {
            expect(response.body.result.client_message[0]).to.contain("Member not found")
            expect(response.body.result.employee_message[1]).to.contain("Double check member full name and birthday")
    
            })
        })
        
//Different club data

    it('As a client I should not be able to checkin with valid QR corona code if there are more members with same name and birthday', () => {

        checkin.apiRequest('2004061', 'CS-2004061-CHECKIN102290-i8AemzAYkAUU4z3UO7HMC30yF' ,'qxOnqEp4QOKYCW6cjuIyUnTowwzC8r93j5eVeJ4K8a-private', 'HC1:NCFOXN%TSMAHN-H.L8%38Q%T6$823S0IIYMJ 43%C0C9BHPIN1G.TM6W4JVV%OM:UC*GPXS40 LHZA KEZ%G6EDX0KEEDAME*ZAXCI*ZAVDJG8LKHG:YA0CHH5EFZA2FMGIH4IHQ8LZJLDDAMFMPEDPCIBVKSCA-JETHQC K1U7C KPLI8J4RK46YBTJ15M0N$KNRS7DS2*N.SSDUO*QH*WU+GAGW2JI2DBU0C9*PP:+P*.1D9R+Q66463Z0R:67PPDFPVX1R270:6NEQ0R6AOMUF5LDCPF5RBQ746B46O1N646RM93O5RF6$T61R63B0 %PPRAAUICO1OZ5+ZE5%P/T1:PI/E2$4JY/K1V2P67MHF2Z0KEN6QN%PNB%0TSNO05HBT*ZVYWV*K5FVVIN0T5UB/9MM5+H5UA8WH9P8QNIPHKLK90BKEG%5TW5A 6YO67N6UCEZHEY*UH$T U5NHL*TF8P9$YBNVNW-2E R53A4S798QX$RV+Q% F8PNMUJVIU*JVTOM/J83ANU6E$5U947 TNX2UCYHH*PV/6WPAY%9050.7WQ4' )
        .then(response => {
            expect(response.body.result.client_message[0]).to.contain("Duplicate members found")
            expect(response.body.result.employee_message[0]).to.contain("Duplicate members found")
    
            })
        })

    it('As a client I should be able to checkin with valid QR corona code from subclub A to sublub B if multiclub checkin is allowed', () => {

        checkin.apiRequest('174852', 'CS-174852-CHECKIN104-SZ2p06fkVSmiXinDusdRSCt5G' ,'7Y8Q3nWe4hsV3Hq7qE7XOfEQLQ7I2X5D1jaBNGEwEd-private', 'HC1:NCF%RN%TS3DHLXS-DP75PV4C2YK5NL-AH:TA1RO9.S4UOX-IHMFYS52UA0VR:CBF/8X*G-O9UVPQRHIY1+ HNQ1PRAAUICO1DV5+ZE:48EA7IB65C94JBNKDG.CRKFOKEH-B.LDQ8LIUN9JAC.BW8EBJCG.C$0LW8EB.CIEERJCL/EFDA6LF C9BEMLUKQ8LY6LBEM-2DBEM$UKC8ND7AGGBYPL0QIRR97I2HOAXL92L0. KOKGTM8$M8SNCXL9LM0*$K8KG+9RR$F+ F%J00N89M4*$K3$OHBW24FAL86H0CNCRK40YQDXI03L6QS03L9ZI4Q5%H0AN8EH06YB:WOU.S9Q488KP+PGC17DS2*N.SSBNKA.G.P6A8IM%O%KI/-GN*QG%MLNK:+G/YNR-G7PG%OK2%KYZPE:MK34QTLW2DVJ55M84:7-L5-3FJ26I10TOAW.554AJ40NAA0A9Q7EGL4%AWP8HS9VI8HA0K8+RH9JH5OPITLIU VT:-MW/NNX3G7QI.VBOP/YQC P1SQWPE-1WQ8DW0E6ZT0HPNCA%9CSDW4PE16IUGF0:9GWIBXMKN1000FGW+Q3C/G' )
        .then(response => {
            expect(response.body.result.client_message[0]).to.contain("Welcome Shalini Singh!")
            expect(response.body.result.employee_message[0]).to.contain("No profile picture")
        
            })
        })

    it('As a client I should not be able to checkin with valid QR corona code from subclub A to sublub B if multiclub checkin is not allowed', () => {

        checkin.apiRequest('174128', 'CS-174128-CHECKIN777716181-4ntOPwrRqvX81yCkATrlsdxSU' ,'Hs5VcrKdYPEh1TYYbqSDA6Jf8TvA75x5SSjKSUXXsf-private', 'HC1:NCF%RN%TS3DHLXS-DP75PV4C2YK5NL-AH:TA1RO9.S4UOX-IHMFYS52UA0VR:CBF/8X*G-O9UVPQRHIY1+ HNQ1PRAAUICO1DV5+ZE:48EA7IB65C94JBNKDG.CRKFOKEH-B.LDQ8LIUN9JAC.BW8EBJCG.C$0LW8EB.CIEERJCL/EFDA6LF C9BEMLUKQ8LY6LBEM-2DBEM$UKC8ND7AGGBYPL0QIRR97I2HOAXL92L0. KOKGTM8$M8SNCXL9LM0*$K8KG+9RR$F+ F%J00N89M4*$K3$OHBW24FAL86H0CNCRK40YQDXI03L6QS03L9ZI4Q5%H0AN8EH06YB:WOU.S9Q488KP+PGC17DS2*N.SSBNKA.G.P6A8IM%O%KI/-GN*QG%MLNK:+G/YNR-G7PG%OK2%KYZPE:MK34QTLW2DVJ55M84:7-L5-3FJ26I10TOAW.554AJ40NAA0A9Q7EGL4%AWP8HS9VI8HA0K8+RH9JH5OPITLIU VT:-MW/NNX3G7QI.VBOP/YQC P1SQWPE-1WQ8DW0E6ZT0HPNCA%9CSDW4PE16IUGF0:9GWIBXMKN1000FGW+Q3C/G' )
        .then(response => {
            expect(response.body.result.client_message[0]).to.contain("Member not found")
            expect(response.body.result.employee_message[1]).to.contain("Double check member full name and birthday")
            
            })
        })

})